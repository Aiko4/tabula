<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Model Refining — refine • tabula</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Model Refining — refine" />
<meta property="og:description" content="Model Refining" />
<meta property="og:image" content="http://tabula.archaeo.science/logo.png" />
<meta name="twitter:card" content="summary" />


<meta name="robots" content="noindex">

<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">tabula</a>
        <span class="version label label-danger" data-toggle="tooltip" data-placement="bottom" title="In-development version">1.2.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/bibliography.html">Bibliography</a>
    </li>
    <li>
      <a href="../articles/diversity.html">Diversity measures</a>
    </li>
    <li>
      <a href="../articles/matrix.html">Matrix classes</a>
    </li>
    <li>
      <a href="../articles/seriation.html">Seriation and dating methods</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/nfrerebeau/tabula">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Model Refining</h1>
    <small class="dont-index">Source: <a href='https://github.com/nfrerebeau/tabula/blob/master/R/AllGenerics.R'><code>R/AllGenerics.R</code></a>, <a href='https://github.com/nfrerebeau/tabula/blob/master/R/refine.R'><code>R/refine.R</code></a></small>
    <div class="hidden name"><code>refine.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Model Refining</p>
    </div>

    <pre class="usage"><span class='fu'>refine</span>(<span class='no'>object</span>, <span class='no'>...</span>)

<span class='co'># S4 method for CountMatrix</span>
<span class='fu'>refine</span>(<span class='no'>object</span>, <span class='no'>cutoff</span>, <span class='kw'>n</span> <span class='kw'>=</span> <span class='fl'>1000</span>, <span class='kw'>axes</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>1</span>,
  <span class='fl'>2</span>), <span class='no'>...</span>)

<span class='co'># S4 method for DateModel</span>
<span class='fu'>refine</span>(<span class='no'>object</span>, <span class='kw'>method</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"jackknife"</span>,
  <span class='st'>"bootstrap"</span>), <span class='kw'>n</span> <span class='kw'>=</span> <span class='fl'>1000</span>, <span class='no'>...</span>)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>object</th>
      <td><p>An \(m \times p\) data matrix.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Further arguments to be passed to internal methods.</p></td>
    </tr>
    <tr>
      <th>cutoff</th>
      <td><p>A function that takes a numeric vector as argument and returns
a single numeric value (see details).</p></td>
    </tr>
    <tr>
      <th>n</th>
      <td><p>A non-negative <code><a href='https://rdrr.io/r/base/integer.html'>integer</a></code> giving the number of partial
bootstrap replications (see details).</p></td>
    </tr>
    <tr>
      <th>axes</th>
      <td><p>A <code><a href='https://rdrr.io/r/base/numeric.html'>numeric</a></code> vector giving the subscripts of the CA
axes to use (see details).</p></td>
    </tr>
    <tr>
      <th>method</th>
      <td><p>A <code><a href='https://rdrr.io/r/base/character.html'>character</a></code> string specifiying the resampling
method to be used. This must be one of "<code>jackknife</code>",
"<code>bootstrap</code>" (see details). Any unambiguous substring can be given.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>TODO</p>
    <h2 class="hasAnchor" id="methods-by-class-"><a class="anchor" href="#methods-by-class-"></a>Methods (by class)</h2>

    
<ul>
<li><p><code>CountMatrix</code>: Performs a partial bootstrap correspondance analysis
seriation refinement and returns a <a href='BootCA-class.html'>BootCA</a> object.</p></li>
<li><p><code>DateModel</code>: Checks the stability of a date model with resampling
methods.</p></li>
</ul>
    <h2 class="hasAnchor" id="note"><a class="anchor" href="#note"></a>Note</h2>

    <p>These methods can lead to much longer execution times and larger output
 objects. To monitor the execution of these re-sampling procedures, a
 progress bar will automatically be displayed if the
 <code><a href='https://rdrr.io/pkg/pbapply/man/pbapply.html'>pbapply</a></code> package is installed on your machine.</p>
    <h2 class="hasAnchor" id="ca-seriation-refining"><a class="anchor" href="#ca-seriation-refining"></a>CA seriation refining</h2>

    

<p><code>refine</code> allows to identify samples that are subject to sampling error
 or samples that have underlying structural relationships and might be
 influencing the ordering along the CA space.</p>
<p>This relies on a partial bootstrap approach to CA-based seriation where each
 sample is replicated <code>n</code> times. The maximum dimension length of
 the convex hull around the sample point cloud allows to remove samples for
 a given <code>cutoff</code> value.</p>
<p>According to Peebles and Schachner (2012), "[this] point removal procedure
 [results in] a reduced dataset where the position of individuals within the
 CA are highly stable and which produces an ordering consistend with the
 assumptions of frequency seriation."</p>
<p>If the results of <code>refine</code> is used as an input argument in
 <code>seriate</code>, a correspondance analysis is performed on the subset of
 <code>object</code> which matches the samples to be kept. Then excluded samples
 are projected onto the dimensions of the CA coordinate space using the row
 transition formulae. Finally, row coordinates onto the first dimension
 give the seriation order.</p>
    <h2 class="hasAnchor" id="date-model-checking"><a class="anchor" href="#date-model-checking"></a>Date model checking</h2>

    

<p>Resampling methods can be used to check the stability of the resulting
 <a href='DateModel-class.html'>DateModel</a>.</p>
<p>If <code>jackknife</code> is used, one type/fabric is removed at a
 time and all statistics are recalculated. In this way, one can assess
 whether certain type/fabric has a substantial influence on the date
 estimate.
 A six columns <code><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></code> is returned, giving the results of
 the resamping procedure (jackknifing fabrics) for each assemblage (in rows)
 with the following columns:</p><dl class='dl-horizontal'>
  <dt>id</dt><dd><p>An identifier to link each row to an assemblage.</p></dd>
  <dt>date</dt><dd><p>The jackknife event date estimate.</p></dd>
  <dt>lower</dt><dd><p>The lower boundary of the associated prediction interval.</p></dd>
  <dt>upper</dt><dd><p>The upper boundary of the associated prediction interval.</p></dd>
  <dt>error</dt><dd><p>The standard error of predicted means.</p></dd>
  <dt>bias</dt><dd><p>The jackknife estimate of bias.</p></dd>
 
</dl>

<p>If <code>bootstrap</code> is used, a large number of new
 bootstrap assemblages is created, with the same sample size, by resampling
 each of the original assemblage with replacement. Then, examination of the
 bootstrap statistics makes it possible to pinpoint assemblages that require
 further investigation.
 A six columns <code><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></code> is returned, giving the boostrap
 distribution statistics for each replicated assemblage (in rows)
 with the following columns:</p><dl class='dl-horizontal'>
  <dt>id</dt><dd><p>An identifier to link each row to an assemblage.</p></dd>
  <dt>min</dt><dd><p>Minimum value.</p></dd>
  <dt>Q05</dt><dd><p>Sample quantile to 0.05 probability.</p></dd>
  <dt>mean</dt><dd><p>Mean value (event date).</p></dd>
  <dt>Q95</dt><dd><p>Sample quantile to 0.95 probability.</p></dd>
  <dt>max</dt><dd><p>Maximum value.</p></dd>
 
</dl>

    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Bellanger, L., Tomassone, R. &amp; Husi, P. (2008). A Statistical Approach for
 Dating Archaeological Contexts. <em>Journal of Data Science</em>, 6, 135-154.</p>
<p>Bellanger, L., Husi, P. &amp; Tomassone, R. (2006). Une approche statistique
 pour la datation de contextes archéologiques. <em>Revue de Statistique
 Appliquée</em>, 54(2), 65-81.</p>
<p>Peeples, M. A., &amp; Schachner, G. (2012). Refining correspondence
 analysis-based ceramic seriation of regional data sets. <em>Journal of
 Archaeological Science</em>, 39(8), 2818-2827.
 DOI: <a href='https://doi.org/10.1016/j.jas.2012.04.040'>10.1016/j.jas.2012.04.040</a>.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><a href='deprecated.html'>seriate</a>, <a href='date.html'>date</a></p>
<p>Other seriation: <code><a href='date.html'>date</a></code>,
  <code><a href='seriation.html'>seriation</a></code></p></div>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      <li><a href="#value">Value</a></li>
      <li><a href="#methods-by-class-">Methods (by class)</a></li>
      <li><a href="#note">Note</a></li>
      <li><a href="#ca-seriation-refining">CA seriation refining</a></li>
      <li><a href="#date-model-checking">Date model checking</a></li>
      <li><a href="#references">References</a></li>
      <li><a href="#see-also">See also</a></li>
    </ul>

  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Nicolas Frerebeau.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


